---
description: Jenkins deployment workflow for calendarWeb
alwaysApply: true
---

# Jenkins 部署流程

## 触发时机

当用户提交代码后（git push），主动询问是否需要部署到测试环境。

## 部署步骤

1. **确认参数**：向用户确认分支名和版本号
   - 分支名：默认为当前 git 分支
   - 版本号格式：`YYYYMMDD` + 两位序号，如 `2026020903`（2026年2月9日第3次构建）
   - 序号需要从 Jenkins 构建列表中查看当天已有多少次构建来确定

2. **打开 Jenkins**：在 Cursor 内置浏览器中访问
   - URL: `https://jenkins.test.difft.org/job/TestEnv-S3CalendarWeb/`
   - 如未登录，提示用户先登录

3. **触发构建**：
   - 点击 "Build with Parameters"
   - 填写参数（其他参数保持默认）：
     - 分支名填入第一个输入框
     - 版本号填入第三个输入框
   - 点击 Build

4. **确认结果**：等待页面跳转，确认新构建出现在列表中且状态为"执行中"

## 注意事项

- 构建前必须先让用户确认分支和版本号，不要自行决定
- 版本号序号要看 Jenkins Today 下已有的构建次数，不要从 01 开始猜
- 不要修改 CloudFront Distribution ID 和构建命令这两个参数
