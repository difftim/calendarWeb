---
description: Figma design to code implementation standards
alwaysApply: true
---

# Figma 还原规范

## 1. 拿到 Figma 链接后，先完整分析再动手

- 调用 `get_design_context` 和 `get_screenshot` 获取完整设计信息
- 提取所有关键数值：width、height、padding、margin、gap、border-radius、font-size、line-height、font-weight、color、box-shadow
- 如有展开/交互态，主动询问用户要对应的 Figma 节点

## 2. antd 组件覆盖清单

使用 antd 组件做 UI 还原时，必须一次性处理以下默认样式，不要等用户反馈再逐个修：

```scss
// 必须覆盖项
.ant-btn {
  border: none !important;
  box-shadow: none !important;
  outline: none !important;
  // 禁用 wave 点击动效
  .ant-wave { display: none !important; }
  // 禁用所有伪元素（::after 波纹、::before 分隔线）
  &::after, &::before { display: none !important; }
  // 覆盖所有交互状态
  &:hover, &:focus, &:active, &:focus-visible { /* 按设计稿设置 */ }
  // antd5 compact 模式边框
  &.ant-btn-compact-item::before { display: none !important; }
}
```

## 3. 下拉菜单（Dropdown）注意事项

- antd dropdown popup 通过 portal 渲染到 body，样式需写在全局作用域
- 通过 `menu.className` 传入自定义类名来控制弹出层样式
- 必须同时处理：菜单容器 padding、菜单项 height/padding、border-radius、菜单宽度
- `placement` 属性控制弹出位置对齐方式

## 4. 尺寸必须精确

- 不要用 `width: 100%` 猜测，从 Figma 取精确值（如 `width: 180px`）
- padding/margin 直接从 Figma 节点坐标计算，不要凑整
- 文本对齐方式（左对齐/居中）从设计稿确认，不要默认居中

## 5. 一次到位，不要迭代修复

实现 UI 前在脑中过一遍完整的检查清单：
- [ ] 尺寸（宽高、padding、margin、gap）
- [ ] 颜色（背景、文字、边框/阴影）
- [ ] 圆角
- [ ] 字体（大小、粗细、行高）
- [ ] 交互态（hover、active、focus 全部覆盖）
- [ ] 动效（是否需要禁用默认动效）
- [ ] 弹出层（宽度、位置、内边距）
